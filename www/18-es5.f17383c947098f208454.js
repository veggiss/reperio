(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{NzNT:function(t,e,i){"use strict";i.r(e);var n=i("CcnG"),a=i("mrSG"),l=i("ZZ/e"),s=i("Z22J"),o=i("ZLgM"),r=i("+TmL"),c=function(t){function e(e){var i=t.call(this,e.scene,0,0,"book_open")||this;i.x=i.scene.cameras.main.centerX,i.y=i.scene.cameras.main.centerY,i.setOrigin(.5,.5);var n=e.scene.game.canvas.height;return i.displayWidth=.9*e.scene.game.canvas.width,i.scaleY=i.scaleX,i.displayHeight>.9*n&&(i.displayHeight=.9*n,i.scaleX=i.scaleY),e.scene.add.existing(i),i.correctAltBoxes=[],i.image=e.scene.add.sprite(0,0,"test_image"),i.image.displayWidth=.25*i.displayWidth,i.image.scaleY=i.image.scaleX,i.image.x=i.x-.25*i.displayWidth,i.image.y=i.y-.25*i.displayHeight,i.textBgLeft=e.scene.add.sprite(i.image.x,0,null),i.textBgLeft.setOrigin(.5,.5),i.textBgLeft.displayWidth=.4*i.displayWidth,i.textBgLeft.displayHeight=.4*i.displayHeight,i.textBgLeft.y=i.image.y+.275*i.displayWidth,i.textBgLeft.visible=!1,i.textBgRight=e.scene.add.sprite(i.x+i.displayWidth/4.5,i.y-i.displayHeight/4,null),i.textBgRight.setOrigin(.5,.5),i.textBgRight.displayWidth=i.textBgLeft.displayWidth,i.textBgRight.displayHeight=i.textBgLeft.displayHeight,i.textBgRight.visible=!1,i.scaleText=function(t){t.displayHeight=i.textBgLeft.displayHeight/5,t.scaleX=t.scaleY},i.spacer=i.scene.make.text({add:!1,x:i.textBgLeft.x-i.textBgLeft.displayWidth/2,y:i.textBgLeft.y-i.textBgLeft.displayHeight/2,alpha:0,origin:0,text:" ",style:{fontSize:"48px",fontFamily:"Arial",color:"#000000",align:"center"}}),i.scaleText(i.spacer),i.leftAlternatives(e),i.rightAlternatives(e),i}return a.d(e,t),e.prototype.leftAlternatives=function(t){var e=this,i=0,n=0,a=0;t.data.sentence.split(" ").forEach((function(l){var s,o=!1;"_"==l?(o=!0,s=t.data.correct[a++]):s=l;var r=e.scene.make.text({x:e.textBgLeft.x-e.textBgLeft.displayWidth/2+i,y:e.textBgLeft.y-e.textBgLeft.displayHeight/2+n,origin:0,text:s,style:{fontSize:"48px",fontFamily:"Arial",color:"#000000",align:"center"}});if(e.scaleText(r),i+r.displayWidth>e.textBgLeft.displayWidth&&(i=0,r.y=e.textBgLeft.y-e.textBgLeft.displayHeight/2+(n+=r.displayHeight+r.displayHeight/2),r.x=e.textBgLeft.x-e.textBgLeft.displayWidth/2+i),o){var c=t.scene.add.sprite(r.x,r.y,"alternative");c.setOrigin(0),c.displayWidth=r.displayWidth,c.displayHeight=r.displayHeight,c.word=r.text,e.correctAltBoxes.push(c)}i+=r.displayWidth+e.spacer.displayWidth}))},e.prototype.rightAlternatives=function(t){var e=this,i=Object(r.k)(t.data.correct.concat(t.data.wrong)),n=[],a=0,l=0,s=0;i.forEach((function(i){var o=e.scene.make.text({x:e.textBgRight.x-e.textBgRight.displayWidth/2+l,y:e.textBgRight.y-e.textBgRight.displayHeight/2+s,guessed:!1,origin:0,text:i,style:{border:"10px solid black",fontSize:"48px",fontFamily:"Arial",color:"#000000",align:"center"}});o.setInteractive(),e.scaleText(o),l+o.displayWidth>e.textBgRight.displayWidth&&(l=0,o.y=e.textBgRight.y-e.textBgRight.displayHeight/2+(s+=o.displayHeight+o.displayHeight/2),o.x=e.textBgRight.x-e.textBgRight.displayWidth/2+l);var c=t.scene.add.graphics();c.lineStyle(3,"#000000"),c.moveTo(o.x,o.y+o.displayHeight/2),c.lineTo(o.x+o.displayWidth,o.y+o.displayHeight/2),c.strokePath(),c.alpha=0,n.push(c),o.on("pointerdown",(function(){o.guessed||(o.text==e.correctAltBoxes[0].word?(o.setColor("green"),e.correctAltBoxes[0].alpha=0,e.correctAltBoxes.shift(),o.guessed=!0,n.forEach((function(t){return t.alpha=0})),0==e.correctAltBoxes.length&&(Object(r.d)(3,a,"skrive"),document.getElementById("goBackBtn").click())):(a++,c.alpha=1))})),l+=o.displayWidth+e.spacer.displayWidth}))},e}(o.GameObjects.Sprite),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roundData=Object(r.g)("",[],r.e,1),e}return a.d(e,t),e.prototype.preload=function(){this.load.image("bg_tile","assets/img/games/album/bg_tile.png"),this.load.image("book_open","assets/img/games/album/book_open.png"),this.load.image("polaroid","assets/img/games/match/polaroid.png"),this.load.image("test_image","assets/img/games/images/album/"+this.roundData[0].src),this.load.image("alternative","assets/img/alternative.png")},e.prototype.init=function(){this.scale.lockOrientation("landscape"),this.scale.updateOrientation()},e.prototype.create=function(){this.bgSprite=this.add.tileSprite(0,0,this.game.canvas.width*window.devicePixelRatio,this.game.canvas.height*window.devicePixelRatio,"bg_tile"),this.book=new c({scene:this,data:this.roundData[0]})},e.prototype.update=function(){},e}(o.Scene),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.d(e,t),e.prototype.create=function(){this.scene.add("main",g,!0)},e.prototype.pause=function(){this.scene.pause()},e}(o.Scene),d=function(){function t(t,e){this.popoverController=t,this.navCtrl=e,this.initialize=!0,this.game={width:"100%",height:"100%",type:o.WEBGL,scene:p,instance:null,fps:{target:60,min:60,forceSetTimeOut:!0}}}return t.prototype.presentPopover=function(){return a.b(this,void 0,void 0,(function(){return a.e(this,(function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:s.a})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}}))}))},t.prototype.getInstance=function(){return this.game.instance},t.prototype.goBack=function(){this.navCtrl.back()},t.prototype.pauseGame=function(){this.getInstance().scene.pause("FirstScene")},t.prototype.changeAngle=function(){this.getInstance().scene.scenes.forEach((function(t){t.sys.isActive()&&t.setAngle(0)}))},t}(),h=function(){return function(){}}(),u=i("pMnS"),y=i("oBZk"),f=n.qb({encapsulation:0,styles:[[""]],data:{}});function x(t){return n.Ib(0,[(t()(),n.sb(0,0,null,null,0,"div",[["hidden",""],["id","goBackBtn"],["style",""]],null,[[null,"click"]],(function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.goBack()&&n),n}),null,null)),(t()(),n.sb(1,0,null,null,0,"ion-phaser",[["class","noZoom"]],[[8,"game",0],[8,"initialize",0]],null,null,null,null)),(t()(),n.sb(2,0,null,null,3,"ion-fab",[["horizontal","end"],["vertical","top"]],null,null,null,y.D,y.i)),n.rb(3,49152,null,0,l.u,[n.h,n.k,n.z],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),n.sb(4,0,null,0,1,"ion-icon",[["color","light"],["name","pause"],["style","font-size: 25px;"]],null,[[null,"click"]],(function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.presentPopover()&&n),n}),y.G,y.l)),n.rb(5,49152,null,0,l.A,[n.h,n.k,n.z],{color:[0,"color"],name:[1,"name"]},null)],(function(t,e){t(e,3,0,"end","top"),t(e,5,0,"light","pause")}),(function(t,e){var i=e.component;t(e,1,0,i.game,i.initialize)}))}function m(t){return n.Ib(0,[(t()(),n.sb(0,0,null,null,1,"app-album",[],null,null,null,x,f)),n.rb(1,49152,null,0,d,[l.Hb,l.Fb],null,null)],null,null)}var b=n.ob("app-album",d,m,{},{},[]),B=i("Ip0R"),v=i("gIcY"),k=i("ZYCi");i.d(e,"AlbumPageModuleNgFactory",(function(){return W}));var W=n.pb(h,[],(function(t){return n.Bb([n.Cb(512,n.j,n.ab,[[8,[u.a,b]],[3,n.j],n.x]),n.Cb(4608,B.k,B.j,[n.u,[2,B.r]]),n.Cb(4608,v.c,v.c,[]),n.Cb(4608,l.a,l.a,[n.z,n.g]),n.Cb(4608,l.Eb,l.Eb,[l.a,n.j,n.q]),n.Cb(4608,l.Hb,l.Hb,[l.a,n.j,n.q]),n.Cb(1073742336,B.b,B.b,[]),n.Cb(1073742336,v.b,v.b,[]),n.Cb(1073742336,v.a,v.a,[]),n.Cb(1073742336,l.Cb,l.Cb,[]),n.Cb(1073742336,k.n,k.n,[[2,k.s],[2,k.m]]),n.Cb(1073742336,h,h,[]),n.Cb(1024,k.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);